<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µä»·è®¾ç½® - èƒ½æºç®¡ç†ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #EBEDF5;
            color: #1e293b;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ä¾§è¾¹æ æ ·å¼ */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 240px;
            height: 100vh;
            background: white;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            transition: all 300ms ease;
            z-index: 100;
        }

        .sidebar-header {
            padding: 1rem 0.5rem;
            border-bottom: 1px solid #e2e8f0;
            background: rgba(255, 255, 255, 0.03);
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
        }

        .logo img {
            height: auto;
            width: 100%;
            max-width: 220px;
            max-height: 50px;
            object-fit: contain;
        }

        .sidebar-menu {
            flex: 1;
            padding: 1rem 0;
            overflow-y: auto;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: #64748b;
            text-decoration: none;
            transition: all 0.2s ease;
            position: relative;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .menu-item:hover {
            background: #f1f5f9;
            color: #1e293b;
        }

        .menu-item.active {
            background: #eff6ff;
            color: #3562E3;
        }

        .menu-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 3px;
            height: 100%;
            background: #3562E3;
        }

        /* ä¸€çº§èœå•æ ·å¼ */
        .menu-group {
            margin-bottom: 0;
        }
        
        .menu-parent {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 1.5rem;
            color: #64748b;
            text-decoration: none;
            transition: all 0.2s ease;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            position: relative;
        }
        
        .menu-parent:hover {
            background: #f1f5f9;
            color: #1e293b;
        }
        
        .menu-parent.expanded {
            background: transparent;
            color: #3562E3;
        }
        
        .menu-arrow {
            transition: transform 0.2s ease;
            font-size: 0.75rem;
            color: #94a3b8;
        }
        
        .menu-parent.expanded .menu-arrow {
            transform: rotate(90deg);
            color: #64748b;
        }
        
        /* äºŒçº§èœå•æ ·å¼ */
        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: transparent;
        }
        
        .submenu.open {
            max-height: 300px;
        }
        
        .submenu-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem 0.75rem 3rem;
            color: #64748b;
            text-decoration: none;
            transition: all 0.2s ease;
            font-size: 0.875rem;
            position: relative;
        }
        
        .submenu-item:hover {
            background: #f1f5f9;
            color: #1e293b;
        }
        
        .submenu-item.active {
            background: #eff6ff;
            color: #3562E3;
        }
        
        .submenu-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 3px;
            height: 100%;
            background: #3562E3;
        }

        .menu-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .menu-icon svg {
            width: 100%;
            height: 100%;
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .main-content {
            margin-left: 240px;
            min-height: 100vh;
            background: #EBEDF5;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 0 2rem;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .page-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-button {
            padding: 0.5rem 1rem;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #64748b;
            transition: all 150ms ease;
        }

        .nav-button:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
            color: #1e293b;
        }


        /* å†…å®¹åŒºåŸŸ */
        .content {
            flex: 1;
            padding: 2rem;
        }

        /* Tabåˆ‡æ¢ - ä¸æ•°æ®åˆ†æä¿æŒä¸€è‡´ */
        .price-tabs {
            display: flex;
            gap: 0;
            margin-bottom: 2rem;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: -2px;
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            color: #64748b;
            font-weight: 500;
            transition: all 150ms ease;
            position: relative;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
        }

        .tab-button:hover {
            color: #1e293b;
        }

        .tab-button.active {
            color: #3562E3;
            border-bottom-color: #3562E3;
        }

        /* ç”µä»·è®¾ç½®å†…å®¹ */
        .price-content {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }

        .station-selector {
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .form-select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            background: white;
            color: #1e293b;
            transition: all 0.2s ease;
            cursor: pointer;
            height: 42px;
        }

        .form-select:focus {
            outline: none;
            border-color: #3562E3;
            box-shadow: 0 0 0 3px rgba(53, 98, 227, 0.1);
        }

        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            background: white;
            color: #1e293b;
            transition: all 0.2s ease;
            height: 42px;
        }

        .form-input:focus {
            outline: none;
            border-color: #3562E3;
            box-shadow: 0 0 0 3px rgba(53, 98, 227, 0.1);
        }

        /* ç”µä»·æ¨¡æ¿å¡ç‰‡ */
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .template-card {
            background: #f8fafc;
            border: 2px solid transparent;
            border-radius: 0.75rem;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .template-card:hover {
            border-color: #cbd5e1;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .template-card.selected {
            border-color: #3562E3;
            background: #eff6ff;
        }

        .template-title {
            font-size: 1rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .template-description {
            font-size: 0.875rem;
            color: #64748b;
            line-height: 1.5;
        }

        /* æ—¶é—´æ®µè®¾ç½® */
        .time-period-section {
            background: #f8fafc;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .time-period-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .time-period-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: #1e293b;
        }

        .time-slots {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .time-slot {
            display: grid;
            grid-template-columns: 1fr 1fr 120px auto;
            gap: 1rem;
            align-items: center;
        }

        .time-input {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            font-size: 0.875rem;
        }

        .price-input {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            text-align: right;
        }

        /* æŒ‰é’®æ ·å¼ */
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: #3562E3;
            color: white;
        }

        .btn-primary:hover {
            background: #2951d9;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .btn-secondary {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .btn-text {
            background: transparent;
            color: #3562E3;
            padding: 0.5rem;
        }

        .btn-text:hover {
            background: #eff6ff;
        }

        .btn-danger {
            background: transparent;
            color: #ef4444;
            padding: 0.5rem;
        }

        .btn-danger:hover {
            background: #fee2e2;
        }

        .btn-icon {
            padding: 0.5rem;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* æœ‰æ•ˆæœŸè®¾ç½® */
        .validity-section {
            background: #f8fafc;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .switch-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .switch {
            position: relative;
            width: 44px;
            height: 24px;
            background: #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .switch.active {
            background: #3562E3;
        }

        .switch-thumb {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .switch.active .switch-thumb {
            transform: translateX(20px);
        }

        .date-range-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        /* æ“ä½œæ  */
        .action-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 2rem;
            border-top: 1px solid #e2e8f0;
            margin-top: 2rem;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .template-grid {
                grid-template-columns: 1fr;
            }

            .time-slot {
                grid-template-columns: 1fr;
            }
        }

        /* æš—è‰²ä¸»é¢˜ */
        [data-theme="dark"] {
            background: #0f172a;
            color: #e2e8f0;
        }

        [data-theme="dark"] body {
            background: #0f172a;
            color: #e2e8f0;
        }

        [data-theme="dark"] .sidebar {
            background: #1e293b;
            border-color: #334155;
        }

        [data-theme="dark"] .navbar {
            background: #1e293b;
            border-color: #334155;
        }

        [data-theme="dark"] .page-header {
            background: #1e293b;
            border-color: #334155;
        }

        [data-theme="dark"] .content-wrapper {
            background: #0f172a;
        }

        [data-theme="dark"] .price-content {
            background: #1e293b;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
        }

        [data-theme="dark"] .template-card {
            background: #334155;
        }

        [data-theme="dark"] .template-card.selected {
            background: #1e3a8a;
        }

        [data-theme="dark"] .time-period-section,
        [data-theme="dark"] .validity-section {
            background: #334155;
        }

        [data-theme="dark"] .form-select,
        [data-theme="dark"] .form-input,
        [data-theme="dark"] .time-input,
        [data-theme="dark"] .price-input {
            background: #334155;
            border-color: #475569;
            color: #f1f5f9;
        }

        [data-theme="dark"] .menu-parent {
            color: #cbd5e1;
        }
        
        [data-theme="dark"] .menu-parent:hover {
            background: #334155;
            color: #f1f5f9;
        }
        
        [data-theme="dark"] .menu-parent.expanded {
            background: transparent;
            color: #60a5fa;
        }
        
        [data-theme="dark"] .menu-arrow {
            color: #64748b;
        }
        
        [data-theme="dark"] .menu-parent.expanded .menu-arrow {
            color: #60a5fa;
        }
        
        [data-theme="dark"] .submenu {
            background: transparent;
        }
        
        [data-theme="dark"] .submenu-item {
            color: #cbd5e1;
        }
        
        [data-theme="dark"] .submenu-item:hover {
            background: #334155;
            color: #f1f5f9;
        }
        
        [data-theme="dark"] .submenu-item.active {
            background: #1e3a8a;
            color: #60a5fa;
        }

        [data-theme="dark"] .menu-item {
            color: #cbd5e1;
        }

        [data-theme="dark"] .menu-item:hover {
            background: #334155;
            color: #f1f5f9;
        }

        [data-theme="dark"] .menu-item.active {
            background: #1e3a8a;
            color: #60a5fa;
        }
    </style>
</head>
<body>
    <!-- ä¾§è¾¹æ  -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <img src="../logo.png" alt="AlwaysControl Technology Logo">
            </div>
        </div>
        <nav class="sidebar-menu">
            <!-- ç”µç«™ç®¡ç†ï¼ˆå¸¦äºŒçº§èœå•ï¼‰ -->
            <div class="menu-group">
                <div class="menu-parent expanded" onclick="toggleSubmenu(this)">
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <span class="menu-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                            </svg>
                        </span>
                        <span class="i18n" data-i18n="menu.station">ç”µç«™</span>
                    </div>
                    <span class="menu-arrow">â–¶</span>
                </div>
                <div class="submenu open">
                    <a href="./station-management.html" class="submenu-item">
                        <span class="i18n" data-i18n="menu.stationManagement">ç”µç«™ç®¡ç†</span>
                    </a>
                    <a href="#" class="submenu-item active">
                        <span class="i18n" data-i18n="menu.priceSettings">ç”µä»·è®¾ç½®</span>
                    </a>
                </div>
            </div>
            
            <!-- å…¶ä»–ä¸€çº§èœå• -->
            <a href="./data-analysis.html" class="menu-item">
                <span class="menu-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 3v18h18"/>
                        <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/>
                    </svg>
                </span>
                <span class="i18n" data-i18n="menu.analysis">æ•°æ®åˆ†æ</span>
            </a>
            <a href="#" class="menu-item">
                <span class="menu-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                    </svg>
                </span>
                <span class="i18n" data-i18n="menu.alarm">å‘Šè­¦ç®¡ç†</span>
            </a>
            <a href="#" class="menu-item">
                <span class="menu-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                        <path d="M20.5 7.5L16 12l4.5 4.5M3.5 7.5L8 12l-4.5 4.5"/>
                    </svg>
                </span>
                <span class="i18n" data-i18n="menu.device">è®¾å¤‡ç®¡ç†</span>
            </a>
            <a href="#" class="menu-item">
                <span class="menu-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                </span>
                <span class="i18n" data-i18n="menu.user">ç”¨æˆ·ç®¡ç†</span>
            </a>
            <a href="#" class="menu-item">
                <span class="menu-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10 9 9 9 8 9"/>
                    </svg>
                </span>
                <span class="i18n" data-i18n="menu.report">æŠ¥è¡¨ä¸­å¿ƒ</span>
            </a>
            <a href="#" class="menu-item">
                <span class="menu-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                </span>
                <span class="i18n" data-i18n="menu.setting">ç³»ç»Ÿè®¾ç½®</span>
            </a>
        </nav>
    </aside>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <nav class="navbar">
            <div class="navbar-left">
                <button class="nav-button" onclick="toggleSidebar()">
                    <span>â˜°</span>
                </button>
                <button class="nav-button" onclick="goBack()" title="è¿”å›åœºæ™¯é€‰æ‹©">
                    <span>â†</span>
                </button>
                <h1 class="page-title i18n" data-i18n="page.title">ç”µä»·è®¾ç½®</h1>
            </div>
            <div class="navbar-right">
                <button class="nav-button" onclick="toggleLanguage()">
                    <span>ğŸŒ</span>
                    <span id="lang-text">ä¸­æ–‡</span>
                </button>
                <button class="nav-button" onclick="toggleTheme()">
                    <span id="theme-icon">ğŸŒ™</span>
                </button>
                <button class="nav-button">
                    <span>ğŸ‘¤</span>
                    <span>ç®¡ç†å‘˜</span>
                </button>
            </div>
        </nav>

        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="content">
            <!-- Tabåˆ‡æ¢ -->
            <div class="price-tabs">
                <button class="tab-button active" onclick="switchTab('feed-in')">
                    <span class="i18n" data-i18n="price.feedIn">ä¸Šç½‘ç”µä»·</span>
                </button>
                <button class="tab-button" onclick="switchTab('purchase')">
                    <span class="i18n" data-i18n="price.purchase">è´­ç”µç”µä»·</span>
                </button>
            </div>

            <!-- ä¸Šç½‘ç”µä»·å†…å®¹ -->
            <div id="feed-in-content" class="price-content">
                <!-- ç”µç«™é€‰æ‹© -->
                <div class="station-selector">
                    <div class="form-group">
                        <label class="form-label i18n" data-i18n="price.selectStation">é€‰æ‹©ç”µç«™</label>
                        <select class="form-select" id="station-select">
                            <option value="">è¯·é€‰æ‹©ç”µç«™</option>
                            <option value="station1">ä¸Šæµ·å·¥ä¸šå›­å‚¨èƒ½ç«™</option>
                            <option value="station2">åŒ—äº¬ç§‘æŠ€å›­å‚¨èƒ½ç«™</option>
                            <option value="station3">æ·±åœ³å…‰ä¼å‚¨èƒ½ç«™</option>
                        </select>
                    </div>
                </div>

                <!-- ç”µä»·ç±»å‹é€‰æ‹© -->
                <div class="form-group">
                    <label class="form-label i18n" data-i18n="price.priceType">ç”µä»·ç±»å‹</label>
                    <div class="template-grid">
                        <div class="template-card selected" onclick="selectPriceType(this, 'fixed')">
                            <h3 class="template-title i18n" data-i18n="price.fixed">å›ºå®šç”µä»·</h3>
                            <p class="template-description i18n" data-i18n="price.fixedDesc">æ‰€æœ‰æ—¶é—´æ®µçš„ç”µä»·ä¸€è‡´</p>
                        </div>
                        <div class="template-card" onclick="selectPriceType(this, 'volume')">
                            <h3 class="template-title i18n" data-i18n="price.volume">æŒ‰ç”µé‡å®šä»·</h3>
                            <p class="template-description i18n" data-i18n="price.volumeDesc">å¯åˆ†åˆ«è®¾ç½®ä¸åŒæ—¶é—´æ®µå†…é˜¶æ¢¯ç”µé‡çš„ç”µä»·</p>
                        </div>
                        <div class="template-card" onclick="selectPriceType(this, 'time')">
                            <h3 class="template-title i18n" data-i18n="price.time">åˆ†æ—¶ç”µä»·</h3>
                            <p class="template-description i18n" data-i18n="price.timeDesc">å¯è®¾ç½®å¤šä¸ªæ—¶é—´æ®µçš„ç”µä»·ï¼Œå„æ—¶é—´æ®µä¸å¯é‡å </p>
                        </div>
                        <div class="template-card" onclick="selectPriceType(this, 'timeWeekend')">
                            <h3 class="template-title i18n" data-i18n="price.timeWeekend">åˆ†æ—¶ç”µä»·ï¼ˆå·¥ä½œæ—¥+å‘¨æœ«ï¼‰</h3>
                            <p class="template-description i18n" data-i18n="price.timeWeekendDesc">å¯åˆ†åˆ«è®¾ç½®å·¥ä½œæ—¥ä¸å‘¨æœ«ä¸åŒæ—¶é—´æ®µçš„ç”µä»·</p>
                        </div>
                    </div>
                </div>

                <!-- æœ‰æ•ˆæœŸè®¾ç½® -->
                <div class="validity-section">
                    <h3 class="form-label i18n" data-i18n="price.validity">æœ‰æ•ˆæœŸè®¾ç½®</h3>
                    <div class="switch-container">
                        <label class="form-label i18n" data-i18n="price.permanent">æ°¸ä¹…ç”Ÿæ•ˆ</label>
                        <div class="switch active" onclick="toggleSwitch(this)">
                            <div class="switch-thumb"></div>
                        </div>
                    </div>
                    <div class="date-range-inputs" id="validity-dates" style="display: none;">
                        <div class="form-group">
                            <label class="form-label i18n" data-i18n="price.startDate">å¼€å§‹æ—¥æœŸ</label>
                            <input type="date" class="form-input" id="start-date">
                        </div>
                        <div class="form-group">
                            <label class="form-label i18n" data-i18n="price.endDate">ç»“æŸæ—¥æœŸ</label>
                            <input type="date" class="form-input" id="end-date">
                        </div>
                    </div>
                </div>

                <!-- å›ºå®šç”µä»·è®¾ç½® -->
                <div id="fixed-price-settings">
                    <div class="form-group">
                        <label class="form-label i18n" data-i18n="price.fixedPriceValue">å›ºå®šç”µä»·å€¼</label>
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <input type="number" class="form-input" id="fixed-price" placeholder="è¯·è¾“å…¥ç”µä»·" step="0.01" style="max-width: 200px;">
                            <span class="form-label">å…ƒ/kWh</span>
                        </div>
                    </div>
                </div>

                <!-- åˆ†æ—¶ç”µä»·è®¾ç½® -->
                <div id="time-price-settings" style="display: none;">
                    <div class="time-period-section">
                        <div class="time-period-header">
                            <h3 class="time-period-title i18n" data-i18n="price.timePeriods">æ—¶é—´æ®µè®¾ç½®</h3>
                            <button class="btn btn-text" onclick="addTimePeriod()">
                                <span>+</span>
                                <span class="i18n" data-i18n="price.addPeriod">æ·»åŠ æ—¶æ®µ</span>
                            </button>
                        </div>
                        <div class="time-slots" id="time-slots">
                            <div class="time-slot">
                                <input type="time" class="time-input" value="00:00">
                                <input type="time" class="time-input" value="08:00">
                                <input type="number" class="price-input" placeholder="ç”µä»·" step="0.01">
                                <button class="btn btn-icon btn-danger" onclick="removeTimeSlot(this)">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ“ä½œæŒ‰é’® -->
                <div class="action-bar">
                    <button class="btn btn-secondary" onclick="applyToOtherStations()">
                        <span class="i18n" data-i18n="price.applyToOthers">åº”ç”¨åˆ°å…¶ä»–ç”µç«™</span>
                    </button>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-secondary" onclick="cancelPriceSettings()">
                            <span class="i18n" data-i18n="btn.cancel">å–æ¶ˆ</span>
                        </button>
                        <button class="btn btn-primary" onclick="savePriceSettings()">
                            <span class="i18n" data-i18n="btn.save">ä¿å­˜</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- è´­ç”µç”µä»·å†…å®¹ -->
            <div id="purchase-content" class="price-content" style="display: none;">
                <!-- å†…å®¹ä¸ä¸Šç½‘ç”µä»·ç±»ä¼¼ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ -->
                <div class="station-selector">
                    <div class="form-group">
                        <label class="form-label i18n" data-i18n="price.selectStation">é€‰æ‹©ç”µç«™</label>
                        <select class="form-select" id="purchase-station-select">
                            <option value="">è¯·é€‰æ‹©ç”µç«™</option>
                            <option value="station1">ä¸Šæµ·å·¥ä¸šå›­å‚¨èƒ½ç«™</option>
                            <option value="station2">åŒ—äº¬ç§‘æŠ€å›­å‚¨èƒ½ç«™</option>
                            <option value="station3">æ·±åœ³å…‰ä¼å‚¨èƒ½ç«™</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" style="margin-bottom: 2rem;" onclick="addNewPrice()">
                    <span>+</span>
                    <span class="i18n" data-i18n="price.addNew">æ–°å¢ç”µä»·</span>
                </button>

                <!-- ç»„åˆç”µä»·/ç®€å•ç”µä»·é€‰æ‹© -->
                <div class="form-group">
                    <label class="form-label i18n" data-i18n="price.priceMode">ç”µä»·æ¨¡å¼</label>
                    <div style="display: flex; gap: 2rem;">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="radio" name="price-mode" value="combined" checked onchange="switchPriceMode('combined')">
                            <span class="i18n" data-i18n="price.combined">ç»„åˆç”µä»·</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="radio" name="price-mode" value="simple" onchange="switchPriceMode('simple')">
                            <span class="i18n" data-i18n="price.simple">ç®€å•ç”µä»·</span>
                        </label>
                    </div>
                </div>

                <!-- ç»„åˆç”µä»·æ¨¡æ¿ -->
                <div id="combined-price-templates">
                    <h3 class="form-label i18n" data-i18n="price.selectTemplate">é€‰æ‹©ç”µä»·æ¨¡æ¿</h3>
                    <div class="template-grid">
                        <div class="template-card" onclick="selectTemplate(this, 'residential')">
                            <h3 class="template-title i18n" data-i18n="price.residential">å±…æ°‘ç”¨ç”µ</h3>
                            <p class="template-description i18n" data-i18n="price.residentialDesc">é€‚ç”¨äºå±…æ°‘ç”Ÿæ´»ç”¨ç”µ</p>
                        </div>
                        <div class="template-card" onclick="selectTemplate(this, 'commercial')">
                            <h3 class="template-title i18n" data-i18n="price.commercial">å·¥å•†ä¸šç”¨ç”µ</h3>
                            <p class="template-description i18n" data-i18n="price.commercialDesc">é€‚ç”¨äºå·¥å•†ä¸šç”¨ç”µï¼Œæ”¯æŒå®¹é‡ç”µä»·</p>
                        </div>
                        <div class="template-card" onclick="selectTemplate(this, 'agricultural')">
                            <h3 class="template-title i18n" data-i18n="price.agricultural">å†œä¸šç”¨ç”µ</h3>
                            <p class="template-description i18n" data-i18n="price.agriculturalDesc">é€‚ç”¨äºå†œä¸šç”Ÿäº§ç”¨ç”µ</p>
                        </div>
                    </div>
                </div>

                <!-- åŸºæœ¬ç”µä»·è®¾ç½®ï¼ˆå·¥å•†ä¸šç”¨ç”µï¼‰ -->
                <div id="basic-price-settings" style="display: none;">
                    <div class="validity-section">
                        <h3 class="form-label i18n" data-i18n="price.basicPrice">åŸºæœ¬ç”µä»·</h3>
                        <div class="form-group">
                            <label class="form-label i18n" data-i18n="price.billingMode">è®¡è´¹æ–¹å¼</label>
                            <select class="form-select" id="billing-mode">
                                <option value="capacity">æŒ‰å®¹é‡è®¡è´¹</option>
                                <option value="demand">æŒ‰éœ€é‡è®¡è´¹</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label i18n" data-i18n="price.basicPriceValue">åŸºæœ¬ç”µä»·å€¼</label>
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <input type="number" class="form-input" id="basic-price" placeholder="è¯·è¾“å…¥åŸºæœ¬ç”µä»·" step="0.01" style="max-width: 200px;">
                                <span class="form-label" id="basic-price-unit">å…ƒ/kVAÂ·æœˆ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ“ä½œæŒ‰é’® -->
                <div class="action-bar">
                    <button class="btn btn-secondary" onclick="applyToOtherStations()">
                        <span class="i18n" data-i18n="price.applyToOthers">åº”ç”¨åˆ°å…¶ä»–ç”µç«™</span>
                    </button>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-secondary" onclick="cancelPriceSettings()">
                            <span class="i18n" data-i18n="btn.cancel">å–æ¶ˆ</span>
                        </button>
                        <button class="btn btn-primary" onclick="savePriceSettings()">
                            <span class="i18n" data-i18n="btn.save">ä¿å­˜</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- contentç»“æŸ -->
    </main>

    <script>
        // å½“å‰è¯­è¨€
        let currentLang = localStorage.getItem('ess_language') || 'zh';
        
        // å¤šè¯­è¨€é…ç½®
        const i18n = {
            zh: {
                // é¡µé¢æ ‡é¢˜
                'page.title': 'ç”µä»·è®¾ç½®',
                
                // èœå•
                'menu.station': 'ç”µç«™',
                'menu.stationManagement': 'ç”µç«™ç®¡ç†',
                'menu.priceSettings': 'ç”µä»·è®¾ç½®',
                'menu.analysis': 'æ•°æ®åˆ†æ',
                'menu.alarm': 'å‘Šè­¦ç®¡ç†',
                'menu.device': 'è®¾å¤‡ç®¡ç†',
                'menu.user': 'ç”¨æˆ·ç®¡ç†',
                'menu.report': 'æŠ¥è¡¨ä¸­å¿ƒ',
                'menu.setting': 'ç³»ç»Ÿè®¾ç½®',
                
                // ç”¨æˆ·
                'user.admin': 'ç®¡ç†å‘˜',
                
                // ç”µä»·è®¾ç½®
                'price.feedIn': 'ä¸Šç½‘ç”µä»·',
                'price.purchase': 'è´­ç”µç”µä»·',
                'price.selectStation': 'é€‰æ‹©ç”µç«™',
                'price.priceType': 'ç”µä»·ç±»å‹',
                'price.fixed': 'å›ºå®šç”µä»·',
                'price.fixedDesc': 'æ‰€æœ‰æ—¶é—´æ®µçš„ç”µä»·ä¸€è‡´',
                'price.volume': 'æŒ‰ç”µé‡å®šä»·',
                'price.volumeDesc': 'å¯åˆ†åˆ«è®¾ç½®ä¸åŒæ—¶é—´æ®µå†…é˜¶æ¢¯ç”µé‡çš„ç”µä»·',
                'price.time': 'åˆ†æ—¶ç”µä»·',
                'price.timeDesc': 'å¯è®¾ç½®å¤šä¸ªæ—¶é—´æ®µçš„ç”µä»·ï¼Œå„æ—¶é—´æ®µä¸å¯é‡å ',
                'price.timeWeekend': 'åˆ†æ—¶ç”µä»·ï¼ˆå·¥ä½œæ—¥+å‘¨æœ«ï¼‰',
                'price.timeWeekendDesc': 'å¯åˆ†åˆ«è®¾ç½®å·¥ä½œæ—¥ä¸å‘¨æœ«ä¸åŒæ—¶é—´æ®µçš„ç”µä»·',
                'price.validity': 'æœ‰æ•ˆæœŸè®¾ç½®',
                'price.permanent': 'æ°¸ä¹…ç”Ÿæ•ˆ',
                'price.startDate': 'å¼€å§‹æ—¥æœŸ',
                'price.endDate': 'ç»“æŸæ—¥æœŸ',
                'price.fixedPriceValue': 'å›ºå®šç”µä»·å€¼',
                'price.timePeriods': 'æ—¶é—´æ®µè®¾ç½®',
                'price.addPeriod': 'æ·»åŠ æ—¶æ®µ',
                'price.applyToOthers': 'åº”ç”¨åˆ°å…¶ä»–ç”µç«™',
                'price.addNew': 'æ–°å¢ç”µä»·',
                'price.priceMode': 'ç”µä»·æ¨¡å¼',
                'price.combined': 'ç»„åˆç”µä»·',
                'price.simple': 'ç®€å•ç”µä»·',
                'price.selectTemplate': 'é€‰æ‹©ç”µä»·æ¨¡æ¿',
                'price.residential': 'å±…æ°‘ç”¨ç”µ',
                'price.residentialDesc': 'é€‚ç”¨äºå±…æ°‘ç”Ÿæ´»ç”¨ç”µ',
                'price.commercial': 'å·¥å•†ä¸šç”¨ç”µ',
                'price.commercialDesc': 'é€‚ç”¨äºå·¥å•†ä¸šç”¨ç”µï¼Œæ”¯æŒå®¹é‡ç”µä»·',
                'price.agricultural': 'å†œä¸šç”¨ç”µ',
                'price.agriculturalDesc': 'é€‚ç”¨äºå†œä¸šç”Ÿäº§ç”¨ç”µ',
                'price.basicPrice': 'åŸºæœ¬ç”µä»·',
                'price.billingMode': 'è®¡è´¹æ–¹å¼',
                'price.basicPriceValue': 'åŸºæœ¬ç”µä»·å€¼',
                
                // æŒ‰é’®
                'btn.cancel': 'å–æ¶ˆ',
                'btn.save': 'ä¿å­˜',
            },
            en: {
                // Page title
                'page.title': 'Price Settings',
                
                // Menu
                'menu.station': 'Station',
                'menu.stationManagement': 'Station Management',
                'menu.priceSettings': 'Price Settings',
                'menu.analysis': 'Data Analysis',
                'menu.alarm': 'Alarm Management',
                'menu.device': 'Device Management',
                'menu.user': 'User Management',
                'menu.report': 'Report Center',
                'menu.setting': 'System Settings',
                
                // User
                'user.admin': 'Admin',
                
                // Price settings
                'price.feedIn': 'Feed-in Tariff',
                'price.purchase': 'Purchase Tariff',
                'price.selectStation': 'Select Station',
                'price.priceType': 'Price Type',
                'price.fixed': 'Fixed Price',
                'price.fixedDesc': 'Same price for all time periods',
                'price.volume': 'Volume-based Pricing',
                'price.volumeDesc': 'Set tiered pricing for different time periods',
                'price.time': 'Time-of-Use Pricing',
                'price.timeDesc': 'Set prices for multiple time periods without overlap',
                'price.timeWeekend': 'TOU Pricing (Weekday+Weekend)',
                'price.timeWeekendDesc': 'Set different prices for weekdays and weekends',
                'price.validity': 'Validity Period',
                'price.permanent': 'Permanent',
                'price.startDate': 'Start Date',
                'price.endDate': 'End Date',
                'price.fixedPriceValue': 'Fixed Price Value',
                'price.timePeriods': 'Time Period Settings',
                'price.addPeriod': 'Add Period',
                'price.applyToOthers': 'Apply to Other Stations',
                'price.addNew': 'Add New Price',
                'price.priceMode': 'Price Mode',
                'price.combined': 'Combined Price',
                'price.simple': 'Simple Price',
                'price.selectTemplate': 'Select Price Template',
                'price.residential': 'Residential',
                'price.residentialDesc': 'For residential electricity use',
                'price.commercial': 'Commercial & Industrial',
                'price.commercialDesc': 'For commercial and industrial use, supports capacity pricing',
                'price.agricultural': 'Agricultural',
                'price.agriculturalDesc': 'For agricultural electricity use',
                'price.basicPrice': 'Basic Price',
                'price.billingMode': 'Billing Mode',
                'price.basicPriceValue': 'Basic Price Value',
                
                // Buttons
                'btn.cancel': 'Cancel',
                'btn.save': 'Save',
            }
        };
        
        // è·å–ç¿»è¯‘
        function t(key) {
            return i18n[currentLang][key] || key;
        }
        
        // åˆ‡æ¢è¯­è¨€
        function toggleLanguage() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            localStorage.setItem('ess_language', currentLang);
            applyLanguage();
        }
        
        // è¿”å›åœºæ™¯é€‰æ‹©
        function goBack() {
            window.location.href = '../scenario-selection.html';
        }
        
        // åº”ç”¨è¯­è¨€
        function applyLanguage() {
            document.getElementById('lang-text').textContent = currentLang === 'zh' ? 'ä¸­æ–‡' : 'English';
            
            // æ›´æ–°ç®¡ç†å‘˜æ–‡æœ¬
            const navButtons = document.querySelectorAll('.nav-button');
            navButtons.forEach(btn => {
                if (btn.textContent.includes('ç®¡ç†å‘˜') || btn.textContent.includes('Admin')) {
                    const span = btn.querySelector('span:last-child');
                    if (span) {
                        span.textContent = currentLang === 'zh' ? 'ç®¡ç†å‘˜' : 'Admin';
                    }
                }
            });
            
            // æ›´æ–°æ‰€æœ‰å¸¦æœ‰i18nç±»çš„å…ƒç´ 
            document.querySelectorAll('.i18n').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (key && i18n[currentLang][key]) {
                    element.textContent = i18n[currentLang][key];
                }
            });
            
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = t('page.title') + ' - ' + (currentLang === 'zh' ? 'èƒ½æºç®¡ç†ç³»ç»Ÿ' : 'Energy Management System');
        }
        
        // åˆ‡æ¢ä¸»é¢˜
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            document.getElementById('theme-icon').textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
            localStorage.setItem('ess_theme', newTheme);
        }
        
        // åˆ‡æ¢ä¾§è¾¹æ 
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }
        
        // åˆ‡æ¢å­èœå•
        function toggleSubmenu(menuParent) {
            const submenu = menuParent.nextElementSibling;
            const isOpen = submenu.classList.contains('open');
            
            // å…³é—­æ‰€æœ‰å…¶ä»–å­èœå•
            document.querySelectorAll('.submenu.open').forEach(menu => {
                if (menu !== submenu) {
                    menu.classList.remove('open');
                    menu.previousElementSibling.classList.remove('expanded');
                }
            });
            
            // åˆ‡æ¢å½“å‰å­èœå•
            if (isOpen) {
                submenu.classList.remove('open');
                menuParent.classList.remove('expanded');
            } else {
                submenu.classList.add('open');
                menuParent.classList.add('expanded');
            }
        }
        
        // åˆ‡æ¢Tab
        function switchTab(tab) {
            // æ›´æ–°TabæŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.tab-button').classList.add('active');
            
            // æ˜¾ç¤ºå¯¹åº”å†…å®¹
            if (tab === 'feed-in') {
                document.getElementById('feed-in-content').style.display = 'block';
                document.getElementById('purchase-content').style.display = 'none';
            } else {
                document.getElementById('feed-in-content').style.display = 'none';
                document.getElementById('purchase-content').style.display = 'block';
            }
        }
        
        // é€‰æ‹©ç”µä»·ç±»å‹
        function selectPriceType(card, type) {
            // æ›´æ–°å¡ç‰‡é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.template-card').forEach(c => {
                c.classList.remove('selected');
            });
            card.classList.add('selected');
            
            // æ˜¾ç¤ºå¯¹åº”çš„è®¾ç½®åŒºåŸŸ
            document.getElementById('fixed-price-settings').style.display = type === 'fixed' ? 'block' : 'none';
            document.getElementById('time-price-settings').style.display = type === 'time' || type === 'timeWeekend' ? 'block' : 'none';
        }
        
        // åˆ‡æ¢å¼€å…³
        function toggleSwitch(switchElement) {
            switchElement.classList.toggle('active');
            const isActive = switchElement.classList.contains('active');
            document.getElementById('validity-dates').style.display = isActive ? 'none' : 'block';
        }
        
        // æ·»åŠ æ—¶é—´æ®µ
        function addTimePeriod() {
            const timeSlotsContainer = document.getElementById('time-slots');
            const newSlot = document.createElement('div');
            newSlot.className = 'time-slot';
            newSlot.innerHTML = `
                <input type="time" class="time-input" value="08:00">
                <input type="time" class="time-input" value="12:00">
                <input type="number" class="price-input" placeholder="ç”µä»·" step="0.01">
                <button class="btn btn-icon btn-danger" onclick="removeTimeSlot(this)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            `;
            timeSlotsContainer.appendChild(newSlot);
        }
        
        // åˆ é™¤æ—¶é—´æ®µ
        function removeTimeSlot(button) {
            button.closest('.time-slot').remove();
        }
        
        // åˆ‡æ¢ç”µä»·æ¨¡å¼
        function switchPriceMode(mode) {
            document.getElementById('combined-price-templates').style.display = mode === 'combined' ? 'block' : 'none';
        }
        
        // é€‰æ‹©æ¨¡æ¿
        function selectTemplate(card, template) {
            // æ›´æ–°å¡ç‰‡é€‰ä¸­çŠ¶æ€
            card.parentElement.querySelectorAll('.template-card').forEach(c => {
                c.classList.remove('selected');
            });
            card.classList.add('selected');
            
            // æ˜¾ç¤ºåŸºæœ¬ç”µä»·è®¾ç½®ï¼ˆä»…å·¥å•†ä¸šï¼‰
            document.getElementById('basic-price-settings').style.display = template === 'commercial' ? 'block' : 'none';
        }
        
        // ä¿å­˜ç”µä»·è®¾ç½®
        function savePriceSettings() {
            // è¿™é‡Œæ·»åŠ ä¿å­˜é€»è¾‘
            alert(currentLang === 'zh' ? 'ç”µä»·è®¾ç½®å·²ä¿å­˜' : 'Price settings saved');
        }
        
        // å–æ¶ˆè®¾ç½®
        function cancelPriceSettings() {
            if (confirm(currentLang === 'zh' ? 'ç¡®å®šè¦å–æ¶ˆå½“å‰è®¾ç½®å—ï¼Ÿ' : 'Are you sure you want to cancel?')) {
                // é‡ç½®è¡¨å•
                location.reload();
            }
        }
        
        // åº”ç”¨åˆ°å…¶ä»–ç”µç«™
        function applyToOtherStations() {
            // è¿™é‡Œå¯ä»¥æ‰“å¼€ä¸€ä¸ªæ¨¡æ€æ¡†é€‰æ‹©å…¶ä»–ç”µç«™
            alert(currentLang === 'zh' ? 'é€‰æ‹©è¦åº”ç”¨çš„ç”µç«™' : 'Select stations to apply');
        }
        
        // æ–°å¢ç”µä»·
        function addNewPrice() {
            // è¿™é‡Œå¯ä»¥æ‰“å¼€æ–°å¢ç”µä»·çš„æ¨¡æ€æ¡†
            alert(currentLang === 'zh' ? 'æ–°å¢ç”µä»·é…ç½®' : 'Add new price configuration');
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åº”ç”¨ä¿å­˜çš„ä¸»é¢˜
            const savedTheme = localStorage.getItem('ess_theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            document.getElementById('theme-icon').textContent = savedTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
            
            // åº”ç”¨è¯­è¨€
            applyLanguage();
        });
    </script>
</body>
</html>