<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘Šè­¦åˆ†æ - å·¥å•†å‚¨èƒ½ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="../sidebar.css">
    <link rel="stylesheet" href="../navbar.css">
    <link rel="stylesheet" href="../responsive.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f3f4f6;
            color: #1f2937;
        }

        .content {
            padding: 2rem;
        }
        
        .page-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* ç»Ÿè®¡å¡ç‰‡ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .stat-card.total {
            border-left: 4px solid #3b82f6;
        }

        .stat-card.critical {
            border-left: 4px solid #ef4444;
        }

        .stat-card.resolved {
            border-left: 4px solid #10b981;
        }

        .stat-card.pending {
            border-left: 4px solid #f59e0b;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stat-title {
            font-size: 14px;
            color: #6b7280;
            font-weight: 500;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 20px;
        }

        .stat-icon.total { background: #eff6ff; }
        .stat-icon.critical { background: #fef2f2; }
        .stat-icon.resolved { background: #f0fdf4; }
        .stat-icon.pending { background: #fffbeb; }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .stat-change {
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .stat-change.up { color: #ef4444; }
        .stat-change.down { color: #10b981; }

        /* å›¾è¡¨å®¹å™¨ */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
        }

        .chart-actions {
            display: flex;
            gap: 0.5rem;
        }

        .chart-btn {
            padding: 0.375rem 0.75rem;
            border: 1px solid #e5e7eb;
            background: white;
            border-radius: 6px;
            font-size: 12px;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chart-btn:hover {
            background: #f9fafb;
            border-color: #d1d5db;
        }

        .chart-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .chart-container {
            height: 300px;
            position: relative;
        }

        /* å‘Šè­¦è¶‹åŠ¿è¡¨æ ¼ */
        .trend-table {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .table-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .table-header h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
        }

        .trend-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .trend-table th,
        .trend-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
            font-size: 14px;
        }

        .trend-table th {
            background: #f9fafb;
            font-weight: 600;
            color: #374151;
        }

        .trend-table tr:hover {
            background: #f9fafb;
        }

        .device-name {
            font-weight: 500;
            color: #1e293b;
        }

        .alarm-count {
            font-weight: 600;
        }

        .trend-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .trend-badge.up {
            background: #fef2f2;
            color: #ef4444;
        }

        .trend-badge.down {
            background: #f0fdf4;
            color: #10b981;
        }

        .trend-badge.stable {
            background: #f3f4f6;
            color: #6b7280;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 0 2rem;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .page-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-button {
            padding: 0.5rem 1rem;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #64748b;
            transition: all 150ms ease;
        }

        .nav-button:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
            color: #1e293b;
        }

        /* æ—¶é—´é€‰æ‹©å™¨ */
        .time-selector {
            background: white;
            border-radius: 12px;
            padding: 1rem 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .time-options {
            display: flex;
            gap: 0.5rem;
        }

        .time-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #e5e7eb;
            background: white;
            border-radius: 6px;
            font-size: 14px;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .time-btn:hover {
            background: #f9fafb;
            border-color: #d1d5db;
        }

        .time-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .custom-time {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .custom-time input {
            padding: 0.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- ä¾§è¾¹æ å®¹å™¨ -->
    <div id="sidebar-container"></div>
    <div class="main-content">

        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <nav class="navbar">
            <div class="navbar-left">
                <button class="nav-button" onclick="toggleSidebar()">
                    <span>â˜°</span>
                </button>
                <button class="nav-button" onclick="goBack()" title="è¿”å›åœºæ™¯é€‰æ‹©">
                    <span>â†</span>
                </button>
                <h1 class="page-title">å‘Šè­¦åˆ†æ</h1>
            </div>
            <div class="navbar-right">
                <button class="nav-button" onclick="toggleLanguage()">
                    <span>ğŸŒ</span>
                    <span id="lang-text">ä¸­æ–‡</span>
                </button>
                <button class="nav-button" onclick="toggleTheme()">
                    <span id="theme-icon">ğŸŒ™</span>
                </button>
                <button class="nav-button">
                    <span>ğŸ‘¤</span>
                    <span>ç®¡ç†å‘˜</span>
                </button>
            </div>
        </nav>

        <div class="content">
            <div class="page-content">
                <!-- æ—¶é—´é€‰æ‹©å™¨ -->
                <div class="time-selector">
                    <div class="time-options">
                        <button class="time-btn active" onclick="selectTimeRange('today')">ä»Šå¤©</button>
                        <button class="time-btn" onclick="selectTimeRange('week')">æœ¬å‘¨</button>
                        <button class="time-btn" onclick="selectTimeRange('month')">æœ¬æœˆ</button>
                        <button class="time-btn" onclick="selectTimeRange('quarter')">æœ¬å­£åº¦</button>
                        <button class="time-btn" onclick="selectTimeRange('year')">æœ¬å¹´</button>
                    </div>
                    <div class="custom-time">
                        <input type="date" id="start-date">
                        <span>è‡³</span>
                        <input type="date" id="end-date">
                        <button class="time-btn" onclick="applyCustomTime()">åº”ç”¨</button>
                    </div>
                </div>

                <!-- ç»Ÿè®¡å¡ç‰‡ -->
                <div class="stats-grid">
                    <div class="stat-card total">
                        <div class="stat-header">
                            <h4 class="stat-title">å‘Šè­¦æ€»æ•°</h4>
                            <div class="stat-icon total">ğŸ“Š</div>
                        </div>
                        <div class="stat-value">1,258</div>
                        <div class="stat-change up">
                            <span>â†‘</span>
                            <span>12.5% è¾ƒæ˜¨æ—¥</span>
                        </div>
                    </div>
                    <div class="stat-card critical">
                        <div class="stat-header">
                            <h4 class="stat-title">ä¸¥é‡å‘Šè­¦</h4>
                            <div class="stat-icon critical">ğŸš¨</div>
                        </div>
                        <div class="stat-value">45</div>
                        <div class="stat-change up">
                            <span>â†‘</span>
                            <span>8.3% è¾ƒæ˜¨æ—¥</span>
                        </div>
                    </div>
                    <div class="stat-card resolved">
                        <div class="stat-header">
                            <h4 class="stat-title">å·²è§£å†³</h4>
                            <div class="stat-icon resolved">âœ…</div>
                        </div>
                        <div class="stat-value">892</div>
                        <div class="stat-change down">
                            <span>â†“</span>
                            <span>5.2% è¾ƒæ˜¨æ—¥</span>
                        </div>
                    </div>
                    <div class="stat-card pending">
                        <div class="stat-header">
                            <h4 class="stat-title">å¾…å¤„ç†</h4>
                            <div class="stat-icon pending">â³</div>
                        </div>
                        <div class="stat-value">321</div>
                        <div class="stat-change up">
                            <span>â†‘</span>
                            <span>15.8% è¾ƒæ˜¨æ—¥</span>
                        </div>
                    </div>
                </div>

                <!-- å›¾è¡¨åŒºåŸŸ -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">å‘Šè­¦è¶‹åŠ¿åˆ†æ</h3>
                            <div class="chart-actions">
                                <button class="chart-btn active" onclick="switchChart('trend', 'day')">æ—¥</button>
                                <button class="chart-btn" onclick="switchChart('trend', 'week')">å‘¨</button>
                                <button class="chart-btn" onclick="switchChart('trend', 'month')">æœˆ</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">å‘Šè­¦ç±»å‹åˆ†å¸ƒ</h3>
                            <div class="chart-actions">
                                <button class="chart-btn active" onclick="switchChart('type', 'pie')">é¥¼å›¾</button>
                                <button class="chart-btn" onclick="switchChart('type', 'bar')">æŸ±çŠ¶å›¾</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="typeChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">è®¾å¤‡å‘Šè­¦æ’è¡Œ</h3>
                            <div class="chart-actions">
                                <button class="chart-btn" onclick="exportChart('device')">å¯¼å‡º</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="deviceChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">å‘Šè­¦å¤„ç†æ•ˆç‡</h3>
                            <div class="chart-actions">
                                <button class="chart-btn" onclick="exportChart('efficiency')">å¯¼å‡º</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="efficiencyChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- å‘Šè­¦è¶‹åŠ¿è¡¨æ ¼ -->
                <div class="trend-table">
                    <div class="table-header">
                        <h3>è®¾å¤‡å‘Šè­¦ç»Ÿè®¡</h3>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>è®¾å¤‡åç§°</th>
                                <th>è®¾å¤‡ç¼–ç </th>
                                <th>æ€»å‘Šè­¦æ•°</th>
                                <th>ä¸¥é‡</th>
                                <th>é‡è¦</th>
                                <th>æ¬¡è¦</th>
                                <th>è­¦å‘Š</th>
                                <th>è¶‹åŠ¿</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="device-name">å‚¨èƒ½ç”µæ± ç»„#1</td>
                                <td>BAT-001</td>
                                <td class="alarm-count">156</td>
                                <td style="color: #ef4444;">12</td>
                                <td style="color: #f59e0b;">34</td>
                                <td style="color: #3b82f6;">67</td>
                                <td style="color: #8b5cf6;">43</td>
                                <td>
                                    <span class="trend-badge up">
                                        <span>â†‘</span>
                                        <span>+15%</span>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-name">å˜æµå™¨PCS-01</td>
                                <td>PCS-001</td>
                                <td class="alarm-count">89</td>
                                <td style="color: #ef4444;">5</td>
                                <td style="color: #f59e0b;">23</td>
                                <td style="color: #3b82f6;">45</td>
                                <td style="color: #8b5cf6;">16</td>
                                <td>
                                    <span class="trend-badge down">
                                        <span>â†“</span>
                                        <span>-8%</span>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-name">ç”µæ± ç®¡ç†ç³»ç»Ÿ#1</td>
                                <td>BMS-001</td>
                                <td class="alarm-count">134</td>
                                <td style="color: #ef4444;">8</td>
                                <td style="color: #f59e0b;">45</td>
                                <td style="color: #3b82f6;">56</td>
                                <td style="color: #8b5cf6;">25</td>
                                <td>
                                    <span class="trend-badge stable">
                                        <span>â†’</span>
                                        <span>0%</span>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-name">èƒ½é‡ç®¡ç†ç³»ç»Ÿ#1</td>
                                <td>EMS-001</td>
                                <td class="alarm-count">67</td>
                                <td style="color: #ef4444;">2</td>
                                <td style="color: #f59e0b;">15</td>
                                <td style="color: #3b82f6;">32</td>
                                <td style="color: #8b5cf6;">18</td>
                                <td>
                                    <span class="trend-badge up">
                                        <span>â†‘</span>
                                        <span>+23%</span>
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ—¶é—´èŒƒå›´é€‰æ‹©
        function selectTimeRange(range) {
            // ç§»é™¤æ‰€æœ‰activeç±»
            document.querySelectorAll('.time-options .time-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ·»åŠ activeç±»åˆ°å½“å‰æŒ‰é’®
            event.target.classList.add('active');
            
            // æ ¹æ®èŒƒå›´æ›´æ–°æ•°æ®
            console.log('é€‰æ‹©æ—¶é—´èŒƒå›´:', range);
            updateAnalysisData(range);
        }

        // åº”ç”¨è‡ªå®šä¹‰æ—¶é—´
        function applyCustomTime() {
            const startDate = document.getElementById('start-date').value;
            const endDate = document.getElementById('end-date').value;
            
            if (startDate && endDate) {
                console.log('è‡ªå®šä¹‰æ—¶é—´èŒƒå›´:', startDate, 'è‡³', endDate);
                updateAnalysisData('custom', startDate, endDate);
            }
        }

        // åˆ‡æ¢å›¾è¡¨
        function switchChart(chartType, viewType) {
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            const buttons = event.target.parentElement.querySelectorAll('.chart-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (chartType === 'type') {
                // åˆ‡æ¢å‘Šè­¦ç±»å‹å›¾è¡¨
                typeChart.destroy();
                const ctx = document.getElementById('typeChart').getContext('2d');
                
                if (viewType === 'pie') {
                    typeChart = new Chart(ctx, {
                        type: 'pie',
                        data: {
                            labels: ['ä¸¥é‡', 'é‡è¦', 'æ¬¡è¦', 'è­¦å‘Š'],
                            datasets: [{
                                data: [45, 89, 134, 67],
                                backgroundColor: ['#ef4444', '#f59e0b', '#3b82f6', '#8b5cf6'],
                                borderWidth: 2,
                                borderColor: '#ffffff'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { position: 'right' } }
                        }
                    });
                } else if (viewType === 'bar') {
                    typeChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['ä¸¥é‡', 'é‡è¦', 'æ¬¡è¦', 'è­¦å‘Š'],
                            datasets: [{
                                label: 'å‘Šè­¦æ•°é‡',
                                data: [45, 89, 134, 67],
                                backgroundColor: ['#ef4444', '#f59e0b', '#3b82f6', '#8b5cf6'],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { display: false } },
                            scales: { y: { beginAtZero: true } }
                        }
                    });
                }
            }
            
            console.log('åˆ‡æ¢å›¾è¡¨:', chartType, viewType);
        }

        // å¯¼å‡ºå›¾è¡¨
        function exportChart(chartType) {
            console.log('å¯¼å‡ºå›¾è¡¨:', chartType);
            showMessage('å›¾è¡¨å¯¼å‡ºæˆåŠŸ', 'success');
        }

        // æ›´æ–°åˆ†ææ•°æ®
        function updateAnalysisData(range, startDate, endDate) {
            console.log('æ›´æ–°åˆ†ææ•°æ®...');
            showMessage('æ•°æ®æ›´æ–°ä¸­...', 'info');
            
            // æ¨¡æ‹Ÿæ•°æ®æ›´æ–°
            setTimeout(() => {
                showMessage('æ•°æ®æ›´æ–°å®Œæˆ', 'success');
            }, 1500);
        }

        // æ˜¾ç¤ºæ¶ˆæ¯æç¤º
        function showMessage(message, type = 'info') {
            const messageEl = document.createElement('div');
            messageEl.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 24px;
                background: ${type === 'success' ? '#10b981' : type === 'warning' ? '#f59e0b' : '#3b82f6'};
                color: white;
                border-radius: 6px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                z-index: 9999;
                font-size: 14px;
            `;
            messageEl.textContent = message;
            
            document.body.appendChild(messageEl);
            
            setTimeout(() => {
                messageEl.remove();
            }, 3000);
        }

        // åˆ‡æ¢ä¾§è¾¹æ 
        function toggleSidebar() {
            if (window.sidebar) {
                window.sidebar.toggle();
            }
        }

        // è¿”å›
        function goBack() {
            window.history.back();
        }

        // åˆ‡æ¢è¯­è¨€
        function toggleLanguage() {
            const langText = document.getElementById('lang-text');
            langText.textContent = langText.textContent === 'ä¸­æ–‡' ? 'EN' : 'ä¸­æ–‡';
        }

        // åˆ‡æ¢ä¸»é¢˜
        function toggleTheme() {
            const themeIcon = document.getElementById('theme-icon');
            themeIcon.textContent = themeIcon.textContent === 'ğŸŒ™' ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        // å›¾è¡¨å®ä¾‹
        let trendChart, typeChart, deviceChart, efficiencyChart;

        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è®¾ç½®ä»Šå¤©æ—¥æœŸ
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('end-date').value = today;
            
            // è®¾ç½®30å¤©å‰çš„æ—¥æœŸ
            const thirtyDaysAgo = new Date();
            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
            document.getElementById('start-date').value = thirtyDaysAgo.toISOString().split('T')[0];
            
            // åˆå§‹åŒ–å›¾è¡¨
            initCharts();
        });

        // åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨
        function initCharts() {
            initTrendChart();
            initTypeChart();
            initDeviceChart();
            initEfficiencyChart();
        }

        // åˆå§‹åŒ–å‘Šè­¦è¶‹åŠ¿å›¾è¡¨
        function initTrendChart() {
            const ctx = document.getElementById('trendChart').getContext('2d');
            trendChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['01-01', '01-02', '01-03', '01-04', '01-05', '01-06', '01-07', '01-08', '01-09', '01-10'],
                    datasets: [{
                        label: 'ä¸¥é‡',
                        data: [12, 8, 15, 10, 18, 14, 22, 16, 20, 25],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'é‡è¦',
                        data: [25, 32, 28, 35, 30, 38, 42, 36, 40, 45],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'æ¬¡è¦',
                        data: [45, 52, 48, 55, 50, 58, 62, 56, 60, 65],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'è­¦å‘Š',
                        data: [35, 42, 38, 45, 40, 48, 52, 46, 50, 55],
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // åˆå§‹åŒ–å‘Šè­¦ç±»å‹åˆ†å¸ƒå›¾è¡¨
        function initTypeChart() {
            const ctx = document.getElementById('typeChart').getContext('2d');
            typeChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['ä¸¥é‡', 'é‡è¦', 'æ¬¡è¦', 'è­¦å‘Š'],
                    datasets: [{
                        data: [45, 89, 134, 67],
                        backgroundColor: [
                            '#ef4444',
                            '#f59e0b',
                            '#3b82f6',
                            '#8b5cf6'
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
        }

        // åˆå§‹åŒ–è®¾å¤‡å‘Šè­¦æ’è¡Œå›¾è¡¨
        function initDeviceChart() {
            const ctx = document.getElementById('deviceChart').getContext('2d');
            deviceChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['å‚¨èƒ½ç”µæ± ç»„#1', 'å˜æµå™¨PCS-01', 'ç”µæ± ç®¡ç†ç³»ç»Ÿ#1', 'èƒ½é‡ç®¡ç†ç³»ç»Ÿ#1', 'å‚¨èƒ½ç”µæ± ç»„#2', 'å˜æµå™¨PCS-02'],
                    datasets: [{
                        label: 'å‘Šè­¦æ•°é‡',
                        data: [156, 89, 134, 67, 98, 76],
                        backgroundColor: [
                            '#ef4444',
                            '#f59e0b',
                            '#3b82f6',
                            '#8b5cf6',
                            '#10b981',
                            '#f97316'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // åˆå§‹åŒ–å‘Šè­¦å¤„ç†æ•ˆç‡å›¾è¡¨
        function initEfficiencyChart() {
            const ctx = document.getElementById('efficiencyChart').getContext('2d');
            efficiencyChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                    datasets: [{
                        label: 'å¹³å‡å¤„ç†æ—¶é•¿(å°æ—¶)',
                        data: [2.5, 3.2, 2.8, 3.5, 3.0, 2.2, 1.8],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'å°æ—¶'
                            }
                        }
                    }
                }
            });
        }
    </script>

    <!-- å¼•å…¥ä¾§è¾¹æ è„šæœ¬ -->
    <script src="../sidebar.js"></script>
    <script src="../navbar.js"></script>
</body>
</html>