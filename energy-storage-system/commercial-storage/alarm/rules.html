<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂëäË≠¶ËßÑÂàô - Â∑•ÂïÜÂÇ®ËÉΩÁÆ°ÁêÜÁ≥ªÁªü</title>
    <link rel="stylesheet" href="../sidebar.css">
    <link rel="stylesheet" href="../navbar.css">
    <link rel="stylesheet" href="../responsive.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f3f4f6;
            color: #1f2937;
        }

        .content {
            padding: 2rem;
        }

        /* Êü•ËØ¢Âå∫ÂüüÂç°Áâá */
        .search-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }
        
        /* ÂÜÖÂÆπÂå∫ÂüüÂç°Áâá */
        .content-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .table-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Ë°®Ê†ºÂÆπÂô® */
        .table-container {
            padding: 1rem 1.5rem 1.5rem;
        }
        
        .rules-table {
            width: 100%;
            border-collapse: collapse;
        }

        .rules-table th,
        .rules-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
            font-size: 0.875rem;
            white-space: nowrap;
        }
        
        /* Ë∞ÉÊï¥ÁâπÂÆöÂàóÁöÑÂÆΩÂ∫¶ */
        .rules-table th:first-child,
        .rules-table td:first-child {
            width: 20%;
        }
        
        .rules-table th:nth-child(2),
        .rules-table td:nth-child(2) {
            width: 12%;
        }
        
        .rules-table th:nth-child(3),
        .rules-table td:nth-child(3) {
            width: 18%;
        }
        
        .rules-table th:nth-child(4),
        .rules-table td:nth-child(4) {
            width: 8%;
        }
        
        .rules-table th:nth-child(5),
        .rules-table td:nth-child(5) {
            width: 8%;
        }
        
        .rules-table th:nth-child(6),
        .rules-table td:nth-child(6) {
            width: 8%;
        }
        
        .rules-table th:nth-child(7),
        .rules-table td:nth-child(7) {
            width: 12%;
        }
        
        .rules-table th:last-child,
        .rules-table td:last-child {
            width: 14%;
        }

        .rules-table th {
            background: #f9fafb;
            font-weight: 600;
            color: #374151;
        }

        .rules-table tr:hover {
            background: #f9fafb;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-badge.active {
            background: #d1fae5;
            color: #059669;
        }

        .status-badge.inactive {
            background: #fee2e2;
            color: #dc2626;
        }

        .severity-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .severity-critical {
            background: #fee2e2;
            color: #dc2626;
        }

        .severity-major {
            background: #fef3c7;
            color: #d97706;
        }

        .severity-minor {
            background: #dbeafe;
            color: #1d4ed8;
        }

        .severity-warning {
            background: #f3f4f6;
            color: #374151;
        }

        .action-buttons {
            display: flex;
            gap: 0.25rem;
            justify-content: center;
        }

        .btn-action {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.375rem;
            border-radius: 0.25rem;
            color: #374151;
            transition: all 0.15s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-action:hover {
            background: #f3f4f6;
            color: #111827;
        }

        .btn-action svg {
            width: 1rem;
            height: 1rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            border: 1px solid transparent;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: #3562E3;
            color: white;
            border-color: #3562E3;
        }
        
        .btn-primary:hover {
            background: #2951d3;
            border-color: #2951d3;
        }

        .btn-secondary {
            background: white;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }
        
        .btn-secondary:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
            color: #1e293b;
        }
        
        .btn span {
            font-size: 1rem;
            line-height: 1;
        }
        
        /* ËÆæÂ§áÁ±ªÂûãÂàÜÁ±ªÊ†∑Âºè */
        .device-type-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 0;
            background: transparent;
        }
        
        .device-type-tab {
            padding: 1rem 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 0.875rem;
            color: #6b7280;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            position: relative;
        }
        
        .device-type-tab:hover {
            color: #374151;
        }
        
        .device-type-tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        
        .device-type-tab .count {
            background: #e5e7eb;
            color: #374151;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            margin-left: 0.5rem;
        }
        
        .device-type-tab.active .count {
            background: #dbeafe;
            color: #3b82f6;
        }
        
        /* Á≠õÈÄâÂå∫Âüü */
        .filter-section {
            padding: 1rem 1.5rem;
        }
        
        .filter-row {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .filter-label {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            font-size: 0.875rem;
            background: white;
            color: #374151;
            min-width: 150px;
        }
        
        .filter-buttons {
            display: flex;
            gap: 0.5rem;
            margin-left: auto;
        }
        
        /* Êìç‰ΩúÊåâÈíÆÂå∫Âüü */
        .action-bar {
            padding: 1rem 1.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .action-buttons-left {
            display: flex;
            gap: 0.5rem;
        }
        
        /* Á©∫Áä∂ÊÄÅ */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #6b7280;
        }
        
        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }
        
        /* ËßÑÂàôÁºñËæëÂºπÁ™ó */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #6b7280;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s;
        }
        
        .modal-close:hover {
            background: #f3f4f6;
            color: #1f2937;
        }
        
        .modal-body {
            padding: 0;
        }

        /* TabÊ†∑Âºè */
        .modal-tabs {
            display: flex;
            border-bottom: 1px solid #e5e7eb;
            background: #f9fafb;
        }

        .modal-tab {
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            font-size: 0.875rem;
            font-weight: 500;
            color: #6b7280;
            cursor: pointer;
            position: relative;
            transition: all 150ms ease;
            flex: 1;
        }

        .modal-tab:hover {
            color: #374151;
            background: #f3f4f6;
        }

        .modal-tab.active {
            color: #3b82f6;
            background: white;
        }

        .modal-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: #3b82f6;
        }

        .modal-tab-content {
            padding: 1.5rem;
            display: none;
        }

        .modal-tab-content.active {
            display: block;
        }

        /* Âà†Èô§Á°ÆËÆ§ÂºπÁ™óÊ†∑Âºè */
        .confirm-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1100;
            align-items: center;
            justify-content: center;
        }

        .confirm-content {
            background: white;
            border-radius: 12px;
            width: 400px;
            max-width: 90%;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .confirm-icon {
            width: 48px;
            height: 48px;
            background: #fee2e2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: #dc2626;
            font-size: 1.5rem;
        }

        .confirm-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .confirm-message {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 1.5rem;
        }

        .confirm-buttons {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
        }

        /* Êù°‰ª∂Ë°åÊ†∑Âºè */
        .condition-item {
            margin-bottom: 0.75rem;
        }

        .condition-row {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .condition-select {
            flex: 1;
            padding: 0.625rem 0.875rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.875rem;
            color: #1f2937;
            background: white;
        }

        .condition-input {
            flex: 1;
            padding: 0.625rem 0.875rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.875rem;
            color: #1f2937;
            background: white;
        }

        .btn-remove-condition {
            background: #fee2e2;
            border: none;
            border-radius: 6px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #dc2626;
            transition: all 150ms ease;
        }

        .btn-remove-condition:hover {
            background: #fecaca;
        }

        .btn-add-condition {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            color: #64748b;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 150ms ease;
        }

        .btn-add-condition:hover {
            background: #f1f5f9;
            border-color: #cbd5e1;
            color: #1e293b;
        }

        /* ÂºÄÂÖ≥Ê†∑Âºè */
        .switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }
        
        .table-switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }
        
        .table-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .table-switch .switch-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #cbd5e1;
            transition: all 0.3s ease;
            border-radius: 20px;
        }
        
        .table-switch .switch-slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: all 0.3s ease;
            border-radius: 50%;
        }
        
        .table-switch input:checked + .switch-slider {
            background-color: #3b82f6;
        }
        
        .table-switch input:checked + .switch-slider:before {
            transform: translateX(20px);
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .switch-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #cbd5e1;
            transition: all 0.3s ease;
            border-radius: 24px;
        }

        .switch-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: all 0.3s ease;
            border-radius: 50%;
        }

        .switch input:checked + .switch-slider {
            background-color: #3b82f6;
        }

        .switch input:checked + .switch-slider:before {
            transform: translateX(24px);
        }

        .switch-wrapper {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .switch-label {
            font-size: 0.875rem;
            color: #374151;
        }
        
        .form-section {
            margin-bottom: 2rem;
        }
        
        .form-section h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 1rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        
        .form-input {
            width: 100%;
            padding: 0.625rem 0.875rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.875rem;
            color: #1f2937;
            background: white;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .checkbox-item label {
            font-size: 0.875rem;
            color: #374151;
            cursor: pointer;
            margin: 0;
        }
        
        .station-select-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 0.75rem;
            max-height: 200px;
            overflow-y: auto;
            padding: 0.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            background: #f9fafb;
        }
        
        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }
        
        .btn-cancel {
            padding: 0.625rem 1.25rem;
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
        }
        
        .btn-save {
            padding: 0.625rem 1.25rem;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
        }
        
        /* ToastÊèêÁ§∫ */
        .toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: #1f2937;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-size: 0.875rem;
            z-index: 1100;
            opacity: 0;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- ‰æßËæπÊ†èÂÆπÂô® -->
    <div id="sidebar-container"></div>
<div class="main-content">

                <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
        <nav class="navbar">
            <div class="navbar-left">
                <button class="nav-button" onclick="toggleSidebar()">
                    <span>‚ò∞</span>
                </button>
                <button class="nav-button" onclick="goBack()" title="ËøîÂõûÂú∫ÊôØÈÄâÊã©">
                    <span>‚Üê</span>
                </button>
                <h1 class="page-title">ÂëäË≠¶ËßÑÂàô</h1>
            </div>
            <div class="navbar-right">
                <button class="nav-button" onclick="toggleLanguage()">
                    <span>üåê</span>
                    <span id="lang-text">‰∏≠Êñá</span>
                </button>
                <button class="nav-button" onclick="toggleTheme()">
                    <span id="theme-icon">üåô</span>
                </button>
                <button class="nav-button">
                    <span>üë§</span>
                    <span>ÁÆ°ÁêÜÂëò</span>
                </button>
            </div>
        </nav>

<div class="content">
            <div class="page-content">
                <!-- ËÆæÂ§áÁ±ªÂûãÂàÜÁ±ªÊ†áÁ≠æ -->
                <div class="device-type-tabs">
                    <button class="device-type-tab active" onclick="filterByDeviceType('battery', event)">
                        ÂÇ®ËÉΩÁîµÊ±†<span class="count">8</span>
                    </button>
                    <button class="device-type-tab" onclick="filterByDeviceType('pcs', event)">
                        PCSÂèòÊµÅÂô®<span class="count">6</span>
                    </button>
                    <button class="device-type-tab" onclick="filterByDeviceType('bms', event)">
                        BMSÁ≥ªÁªü<span class="count">4</span>
                    </button>
                    <button class="device-type-tab" onclick="filterByDeviceType('ems', event)">
                        EMSÁ≥ªÁªü<span class="count">5</span>
                    </button>
                    <button class="device-type-tab" onclick="filterByDeviceType('hvac', event)">
                        Ê∏©ÊéßÁ≥ªÁªü<span class="count">3</span>
                    </button>
                    <button class="device-type-tab" onclick="filterByDeviceType('fire', event)">
                        Ê∂àÈò≤Á≥ªÁªü<span class="count">3</span>
                    </button>
                </div>
                
                <!-- Êü•ËØ¢Âå∫ÂüüÂç°Áâá -->
                <div class="search-card">
                    <!-- Á≠õÈÄâÂå∫Âüü -->
                    <div class="filter-section">
                        <div class="filter-row">
                            <div class="filter-group">
                                <span class="filter-label">‰∏•ÈáçÁ®ãÂ∫¶Ôºö</span>
                                <select class="filter-select" id="severityFilter">
                                    <option value="">ÂÖ®ÈÉ®</option>
                                    <option value="critical">‰∏•Èáç</option>
                                    <option value="major">ÈáçË¶Å</option>
                                    <option value="minor">Ê¨°Ë¶Å</option>
                                    <option value="warning">Ë≠¶Âëä</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <span class="filter-label">Áä∂ÊÄÅÔºö</span>
                                <select class="filter-select" id="statusFilter">
                                    <option value="">ÂÖ®ÈÉ®</option>
                                    <option value="active">ÂêØÁî®</option>
                                    <option value="inactive">Á¶ÅÁî®</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <span class="filter-label">ÁîµÁ´ôÔºö</span>
                                <select class="filter-select" id="stationFilter">
                                    <option value="">ÂÖ®ÈÉ®ÁîµÁ´ô</option>
                                    <option value="ST001">‰∏äÊµ∑Â∑•‰∏öÂõ≠ÂÇ®ËÉΩÁ´ô</option>
                                    <option value="ST002">Âåó‰∫¨ÁßëÊäÄÂõ≠ÂÇ®ËÉΩÁ´ô</option>
                                    <option value="ST003">Ê∑±Âú≥‰∫ß‰∏öÂõ≠ÂÇ®ËÉΩÁ´ô</option>
                                </select>
                            </div>
                            <div class="filter-buttons">
                                <button class="btn btn-primary" onclick="searchRules()">Êü•ËØ¢</button>
                                <button class="btn btn-secondary" onclick="resetFilters()">ÈáçÁΩÆ</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ÂÜÖÂÆπÂå∫ÂüüÂç°Áâá -->
                <div class="content-card">
                    <!-- Êìç‰ΩúÊåâÈíÆÂå∫Âüü -->
                    <div class="action-bar">
                        <div class="action-buttons-left">
                            <button class="btn btn-primary" onclick="createRule()">
                                <span>+</span> Êñ∞Âª∫ËßÑÂàô
                            </button>
                            <button class="btn btn-secondary" onclick="importRules()">
                                <span>‚Üì</span> ÂØºÂÖ•
                            </button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="rules-table">
                        <thead>
                            <tr>
                                <th>ËßÑÂàôÂêçÁß∞</th>
                                <th>Êù°‰ª∂</th>
                                <th>‰∏•ÈáçÁ®ãÂ∫¶</th>
                                <th>Áä∂ÊÄÅ</th>
                                <th>ËÆæÂ§áÊï∞Èáè</th>
                                <th>Ëß¶ÂèëÊ¨°Êï∞</th>
                                <th>ÊúÄÂêéËß¶Âèë</th>
                                <th>Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-device-type="battery">
                                <td>ÁîµÊ±†Ê∏©Â∫¶ËøáÈ´òÂëäË≠¶</td>
                                <td>Ê∏©Â∫¶ > 45¬∞C</td>
                                <td><span class="severity-badge severity-critical">‰∏•Èáç</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule1')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>8</td>
                                <td>3</td>
                                <td>2024-01-24 14:30</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule1')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule1')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule1')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="pcs">
                                <td>PCSÁîµÊµÅÂºÇÂ∏∏</td>
                                <td>ÁîµÊµÅ > 500A</td>
                                <td><span class="severity-badge severity-major">ÈáçË¶Å</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule2')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>6</td>
                                <td>1</td>
                                <td>2024-01-23 09:15</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule2')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule2')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule2')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="all">
                                <td>ÈÄö‰ø°ÊïÖÈöúÊ£ÄÊµã</td>
                                <td>ÈÄö‰ø°‰∏≠Êñ≠ > 5ÂàÜÈíü</td>
                                <td><span class="severity-badge severity-major">ÈáçË¶Å</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule3')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>29</td>
                                <td>8</td>
                                <td>2024-01-22 16:45</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule3')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule3')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule3')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="battery">
                                <td>SOCËøá‰ΩéË≠¶Âëä</td>
                                <td>SOC < 10%</td>
                                <td><span class="severity-badge severity-minor">Ê¨°Ë¶Å</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" onchange="toggleRuleStatus(this, 'rule4')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>8</td>
                                <td>0</td>
                                <td>-</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule4')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule4')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule4')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="hvac">
                                <td>Á©∫Ë∞ÉÊ∏©Â∫¶ÂëäË≠¶</td>
                                <td>ÁéØÂ¢ÉÊ∏©Â∫¶ > 35¬∞C</td>
                                <td><span class="severity-badge severity-warning">Ë≠¶Âëä</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule5')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>3</td>
                                <td>15</td>
                                <td>2024-01-24 13:20</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule5')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule5')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule5')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="bms">
                                <td>BMSÈÄö‰ø°ÂºÇÂ∏∏</td>
                                <td>Êï∞ÊçÆÊõ¥Êñ∞È¢ëÁéá < 1Hz</td>
                                <td><span class="severity-badge severity-major">ÈáçË¶Å</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule6')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>4</td>
                                <td>2</td>
                                <td>2024-01-24 10:15</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule6')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule6')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule6')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="fire">
                                <td>ÁÉüÈõæÊµìÂ∫¶Ë∂ÖÊ†á</td>
                                <td>ÁÉüÈõæÊµìÂ∫¶ > 300ppm</td>
                                <td><span class="severity-badge severity-critical">‰∏•Èáç</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule7')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>3</td>
                                <td>0</td>
                                <td>-</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule7')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule7')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule7')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="ems">
                                <td>ÂÖÖÊîæÁîµÊïàÁéáÂºÇÂ∏∏</td>
                                <td>ÂÖÖÊîæÁîµÊïàÁéá < 85%</td>
                                <td><span class="severity-badge severity-major">ÈáçË¶Å</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule8')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>5</td>
                                <td>5</td>
                                <td>2024-01-24 11:45</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule8')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule8')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule8')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="ems">
                                <td>ÂäüÁéáË∞ÉÂ∫¶ÂºÇÂ∏∏</td>
                                <td>ÂÆûÈôÖÂäüÁéáÂÅèÂ∑Æ > 10%</td>
                                <td><span class="severity-badge severity-major">ÈáçË¶Å</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule9')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>5</td>
                                <td>2</td>
                                <td>2024-01-23 15:20</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule9')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule9')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule9')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr data-device-type="ems">
                                <td>ËÉΩÈáèË∞ÉÂ∫¶Á≠ñÁï•ÂºÇÂ∏∏</td>
                                <td>Á≠ñÁï•ÊâßË°åÂ§±Ë¥•Ê¨°Êï∞ > 3</td>
                                <td><span class="severity-badge severity-minor">Ê¨°Ë¶Å</span></td>
                                <td>
                                    <label class="table-switch">
                                        <input type="checkbox" checked onchange="toggleRuleStatus(this, 'rule10')">
                                        <span class="switch-slider"></span>
                                    </label>
                                </td>
                                <td>5</td>
                                <td>1</td>
                                <td>2024-01-24 09:30</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-action" onclick="editRule('rule10')" title="ÁºñËæë">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="copyRule('rule10')" title="Â§çÂà∂">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                            </svg>
                                        </button>
                                        <button class="btn-action" onclick="deleteRule('rule10')" title="Âà†Èô§">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 6h18"></path>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                                                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                                <line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ËßÑÂàôÁºñËæëÂºπÁ™ó -->
    <div class="modal" id="ruleModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Êñ∞Âª∫ÂëäË≠¶ËßÑÂàô</h3>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <!-- TabÂØºËà™ -->
                <div class="modal-tabs">
                    <button class="modal-tab active" onclick="switchModalTab('basic')">Âü∫Á°Ä‰ø°ÊÅØ</button>
                    <button class="modal-tab" onclick="switchModalTab('scope')">Â∫îÁî®ËåÉÂõ¥</button>
                    <button class="modal-tab" onclick="switchModalTab('notification')">ÈÄöÁü•ÊñπÂºè</button>
                </div>
                
                <form id="ruleForm">
                    <!-- Âü∫Á°Ä‰ø°ÊÅØÊ†áÁ≠æÈ°µ -->
                    <div class="modal-tab-content active" id="basicTab">
                        <div class="form-section">
                            <h4>Âü∫Êú¨‰ø°ÊÅØ</h4>
                        <div class="form-group">
                            <label>ËßÑÂàôÂêçÁß∞ <span style="color: #ef4444;">*</span></label>
                            <input type="text" class="form-input" id="ruleName" placeholder="ËØ∑ËæìÂÖ•ËßÑÂàôÂêçÁß∞">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>ËÆæÂ§áÁ±ªÂûã <span style="color: #ef4444;">*</span></label>
                                <select class="form-input" id="deviceType">
                                    <option value="">ËØ∑ÈÄâÊã©ËÆæÂ§áÁ±ªÂûã</option>
                                    <option value="battery">ÂÇ®ËÉΩÁîµÊ±†</option>
                                    <option value="pcs">PCSÂèòÊµÅÂô®</option>
                                    <option value="bms">BMSÁ≥ªÁªü</option>
                                    <option value="ems">EMSÁ≥ªÁªü</option>
                                    <option value="hvac">Ê∏©ÊéßÁ≥ªÁªü</option>
                                    <option value="fire">Ê∂àÈò≤Á≥ªÁªü</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>‰∏•ÈáçÁ®ãÂ∫¶ <span style="color: #ef4444;">*</span></label>
                                <select class="form-input" id="severity">
                                    <option value="">ËØ∑ÈÄâÊã©‰∏•ÈáçÁ®ãÂ∫¶</option>
                                    <option value="critical">‰∏•Èáç</option>
                                    <option value="major">ÈáçË¶Å</option>
                                    <option value="minor">Ê¨°Ë¶Å</option>
                                    <option value="warning">Ë≠¶Âëä</option>
                                </select>
                            </div>
                        </div>
                        </div>
                        
                        <!-- Ëß¶ÂèëÊù°‰ª∂ -->
                        <div class="form-section">
                            <h4>Ëß¶ÂèëÊù°‰ª∂</h4>
                            <div id="conditionsList">
                                <div class="condition-item">
                                    <div class="condition-row">
                                        <select class="condition-select" id="parameter1">
                                            <option value="">ÁõëÊéßÂèÇÊï∞</option>
                                            <option value="temperature">Ê∏©Â∫¶</option>
                                            <option value="current">ÁîµÊµÅ</option>
                                            <option value="voltage">ÁîµÂéã</option>
                                            <option value="soc">SOC</option>
                                            <option value="power">ÂäüÁéá</option>
                                            <option value="communication">ÈÄö‰ø°Áä∂ÊÄÅ</option>
                                            <option value="smoke">ÁÉüÈõæÊµìÂ∫¶</option>
                                        </select>
                                        <select class="condition-select" id="condition1">
                                            <option value="">Âà§Êñ≠Êù°‰ª∂</option>
                                            <option value="greater">Â§ß‰∫é</option>
                                            <option value="less">Â∞è‰∫é</option>
                                            <option value="equal">Á≠â‰∫é</option>
                                            <option value="notEqual">‰∏çÁ≠â‰∫é</option>
                                            <option value="between">Âå∫Èó¥ÂÜÖ</option>
                                            <option value="notBetween">Âå∫Èó¥Â§ñ</option>
                                        </select>
                                        <input type="text" class="condition-input" id="threshold1" placeholder="ÈòàÂÄº">
                                        <button type="button" class="btn-remove-condition" onclick="removeCondition(this)" style="display: none;">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                                <line x1="6" y1="6" x2="18" y2="18"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn-add-condition" onclick="addCondition()">
                                <span>+</span> Ê∑ªÂä†Êù°‰ª∂
                            </button>
                        </div>
                    </div>
                    
                    <!-- Â∫îÁî®ËåÉÂõ¥Ê†áÁ≠æÈ°µ -->
                    <div class="modal-tab-content" id="scopeTab">
                        <div class="form-section">
                            <h4>ÁõëÊµãËåÉÂõ¥</h4>
                        <div class="form-group">
                            <label>ÈÄâÊã©ÁîµÁ´ô <span style="color: #ef4444;">*</span></label>
                            <div class="station-select-grid">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="allStations" onchange="toggleAllStations(this.checked)">
                                    <label for="allStations">ÂÖ®ÈÉ®ÁîµÁ´ô</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="station1" class="station-checkbox">
                                    <label for="station1">‰∏äÊµ∑Â∑•‰∏öÂõ≠ÂÇ®ËÉΩÁ´ô</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="station2" class="station-checkbox">
                                    <label for="station2">Âåó‰∫¨ÁßëÊäÄÂõ≠ÂÇ®ËÉΩÁ´ô</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="station3" class="station-checkbox">
                                    <label for="station3">Ê∑±Âú≥‰∫ß‰∏öÂõ≠ÂÇ®ËÉΩÁ´ô</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="station4" class="station-checkbox">
                                    <label for="station4">ÂπøÂ∑ûÊô∫ÊÖßÂõ≠ÂÇ®ËÉΩÁ´ô</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="station5" class="station-checkbox">
                                    <label for="station5">Êù≠Â∑ûÁßëÂàõÂõ≠ÂÇ®ËÉΩÁ´ô</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ËÆæÂ§áÈÄâÊã©</label>
                            <select class="form-input" id="deviceScope">
                                <option value="all">ËØ•Á±ªÂûãÂÖ®ÈÉ®ËÆæÂ§á</option>
                                <option value="specific">ÊåáÂÆöËÆæÂ§á</option>
                            </select>
                        </div>
                        </div>
                    </div>
                    
                    <!-- ÈÄöÁü•ÊñπÂºèÊ†áÁ≠æÈ°µ -->
                    <div class="modal-tab-content" id="notificationTab">
                        <div class="form-section">
                            <h4>ÈÄöÁü•ËÆæÁΩÆ</h4>
                        <div class="form-group">
                            <label>ÈÄöÁü•ÊñπÂºè</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="notifySystem" checked>
                                    <label for="notifySystem">Á≥ªÁªüÈÄöÁü•</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="notifySMS">
                                    <label for="notifySMS">Áü≠‰ø°ÈÄöÁü•</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="notifyEmail">
                                    <label for="notifyEmail">ÈÇÆ‰ª∂ÈÄöÁü•</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="notifyApp">
                                    <label for="notifyApp">APPÊé®ÈÄÅ</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ÈÄöÁü•‰∫∫Âëò</label>
                            <input type="text" class="form-input" id="notifyUsers" placeholder="ËØ∑ËæìÂÖ•ÈÄöÁü•‰∫∫ÂëòÔºåÂ§ö‰∏™Áî®ÈÄóÂè∑ÂàÜÈöî">
                        </div>
                        <div class="form-group">
                            <label>ÂêØÁî®Áä∂ÊÄÅ</label>
                            <div class="switch-wrapper">
                                <label class="switch">
                                    <input type="checkbox" id="ruleStatus" checked>
                                    <span class="switch-slider"></span>
                                </label>
                                <span class="switch-label" id="statusLabel">Á´ãÂç≥ÂêØÁî®</span>
                            </div>
                        </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeModal()">ÂèñÊ∂à</button>
                <button class="btn-save" onclick="saveRule()">‰øùÂ≠ò</button>
            </div>
        </div>
    </div>
    
    <!-- ToastÊèêÁ§∫ -->
    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>
    
    <!-- Âà†Èô§Á°ÆËÆ§ÂºπÁ™ó -->
    <div class="confirm-modal" id="deleteModal">
        <div class="confirm-content">
            <div class="confirm-icon">‚ö†Ô∏è</div>
            <h3 class="confirm-title">Á°ÆËÆ§Âà†Èô§</h3>
            <p class="confirm-message">Á°ÆÂÆöË¶ÅÂà†Èô§ËØ•ÂëäË≠¶ËßÑÂàôÂêóÔºüÂà†Èô§ÂêéÊó†Ê≥ïÊÅ¢Â§ç„ÄÇ</p>
            <div class="confirm-buttons">
                <button class="btn btn-secondary" onclick="closeDeleteModal()">ÂèñÊ∂à</button>
                <button class="btn btn-primary" style="background: #dc2626; border-color: #dc2626;" onclick="confirmDelete()">Á°ÆÂÆöÂà†Èô§</button>
            </div>
        </div>
    </div>

    <script>
        // È°µÈù¢ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            // ÂàùÂßãÂåñËÆæÂ§áÁ±ªÂûãÈÄâÈ°πÂç°ÔºåÈªòËÆ§ÊòæÁ§∫ÂÇ®ËÉΩÁîµÊ±†
            filterByDeviceType('battery');
            
            // ÂàùÂßãÂåñÂºÄÂÖ≥ÁõëÂê¨
            const ruleStatusSwitch = document.getElementById('ruleStatus');
            const statusLabel = document.getElementById('statusLabel');
            
            if (ruleStatusSwitch) {
                ruleStatusSwitch.addEventListener('change', function() {
                    statusLabel.textContent = this.checked ? 'Á´ãÂç≥ÂêØÁî®' : 'ÊöÇ‰∏çÂêØÁî®';
                });
            }
        });

        // ÂàõÂª∫Êñ∞ËßÑÂàô
        function createRule() {
            document.getElementById('modalTitle').textContent = 'Êñ∞Âª∫ÂëäË≠¶ËßÑÂàô';
            document.getElementById('ruleForm').reset();
            openModal();
        }

        // ÁºñËæëËßÑÂàô
        function editRule(ruleId) {
            document.getElementById('modalTitle').textContent = 'ÁºñËæëÂëäË≠¶ËßÑÂàô';
            // TODO: Âä†ËΩΩËßÑÂàôÊï∞ÊçÆ
            openModal();
        }

        // Â§çÂà∂ËßÑÂàô
        function copyRule(ruleId) {
            const originalRow = event.target.closest('tr');
            const newRow = originalRow.cloneNode(true);
            
            // ‰øÆÊîπËßÑÂàôÂêçÁß∞ÔºåÊ∑ªÂä†"ÂâØÊú¨"ÂêéÁºÄ
            const ruleName = newRow.cells[0].textContent;
            newRow.cells[0].textContent = ruleName + ' - ÂâØÊú¨';
            
            // ÈáçÁΩÆ‰∏Ä‰∫õÊï∞ÊçÆ
            newRow.cells[5].textContent = '0'; // Ëß¶ÂèëÊ¨°Êï∞
            newRow.cells[6].textContent = '-'; // ÊúÄÂêéËß¶Âèë
            
            // ÊèíÂÖ•Âà∞ÂΩìÂâçË°åÁöÑ‰∏ãÊñπ
            originalRow.parentNode.insertBefore(newRow, originalRow.nextSibling);
            
            showToast('ËßÑÂàôÂ∑≤Â§çÂà∂');
            updateCounts();
        }

        // ÂàáÊç¢ËßÑÂàôÁä∂ÊÄÅ
        function toggleRule(ruleId) {
            const button = event.target;
            const isActive = button.textContent === 'Á¶ÅÁî®';
            const row = button.closest('tr');
            const statusBadge = row.querySelector('.status-badge');
            
            if (isActive) {
                button.textContent = 'ÂêØÁî®';
                statusBadge.className = 'status-badge inactive';
                statusBadge.textContent = 'Á¶ÅÁî®';
            } else {
                button.textContent = 'Á¶ÅÁî®';
                statusBadge.className = 'status-badge active';
                statusBadge.textContent = 'ÂêØÁî®';
            }
            
            showToast('ËßÑÂàôÁä∂ÊÄÅÂ∑≤Êõ¥Êñ∞');
        }

        // Âà†Èô§ËßÑÂàô
        let deleteTargetRow = null;
        
        function deleteRule(ruleId) {
            deleteTargetRow = event.target.closest('tr');
            document.getElementById('deleteModal').style.display = 'flex';
        }
        
        // Á°ÆËÆ§Âà†Èô§
        function confirmDelete() {
            if (deleteTargetRow) {
                deleteTargetRow.remove();
                deleteTargetRow = null;
                showToast('ËßÑÂàôÂ∑≤Âà†Èô§');
                updateCounts();
            }
            closeDeleteModal();
        }
        
        // ÂÖ≥Èó≠Âà†Èô§Á°ÆËÆ§ÂºπÁ™ó
        function closeDeleteModal() {
            document.getElementById('deleteModal').style.display = 'none';
            deleteTargetRow = null;
        }

        // ÂØºÂÖ•ËßÑÂàô
        function importRules() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json,.csv';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    showToast(`Ê≠£Âú®ÂØºÂÖ•Êñá‰ª∂: ${file.name}`);
                }
            };
            input.click();
        }
        
        // ‰øùÂ≠òËßÑÂàô
        function saveRule() {
            const ruleName = document.getElementById('ruleName').value;
            if (!ruleName) {
                showToast('ËØ∑Â°´ÂÜôËßÑÂàôÂêçÁß∞');
                return;
            }
            
            showToast('ËßÑÂàô‰øùÂ≠òÊàêÂäü');
            closeModal();
        }
        
        // ÊâìÂºÄÂºπÁ™ó
        function openModal() {
            document.getElementById('ruleModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        // ÂÖ≥Èó≠ÂºπÁ™ó
        function closeModal() {
            document.getElementById('ruleModal').style.display = 'none';
            document.body.style.overflow = '';
        }
        
        // ÊåâËÆæÂ§áÁ±ªÂûãÁ≠õÈÄâ
        function filterByDeviceType(type, event) {
            // Êõ¥Êñ∞ÈÄâ‰∏≠Áä∂ÊÄÅ
            document.querySelectorAll('.device-type-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Â¶ÇÊûúÊúâeventÂèÇÊï∞Ôºå‰ΩøÁî®ÂÆÉÔºõÂê¶ÂàôÂ∞ùËØïËé∑ÂèñÂΩìÂâçÁÇπÂáªÁöÑÊ†áÁ≠æ
            if (event && event.target) {
                const clickedTab = event.target.closest('.device-type-tab');
                if (clickedTab) {
                    clickedTab.classList.add('active');
                }
            } else {
                // Â¶ÇÊûúÊ≤°ÊúâeventÔºåÊ†πÊçÆtypeÊâæÂà∞ÂØπÂ∫îÁöÑÊ†áÁ≠æ
                const targetTab = document.querySelector(`.device-type-tab[onclick*="${type}"]`);
                if (targetTab) {
                    targetTab.classList.add('active');
                }
            }
            
            // ËøáÊª§Ë°®Ê†ºË°å
            const rows = document.querySelectorAll('.rules-table tbody tr');
            rows.forEach(row => {
                if (type === 'all' || row.dataset.deviceType === type || row.dataset.deviceType === 'all') {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        // Êåâ‰∏•ÈáçÁ®ãÂ∫¶Á≠õÈÄâ
        function filterBySeverity(severity) {
            // TODO: ÂÆûÁé∞Á≠õÈÄâÈÄªËæë
            console.log('Filter by severity:', severity);
        }
        
        // ÊåâÁä∂ÊÄÅÁ≠õÈÄâ
        function filterByStatus(status) {
            // TODO: ÂÆûÁé∞Á≠õÈÄâÈÄªËæë
            console.log('Filter by status:', status);
        }
        
        // ÊåâÁîµÁ´ôÁ≠õÈÄâ
        function filterByStation(station) {
            // TODO: ÂÆûÁé∞Á≠õÈÄâÈÄªËæë
            console.log('Filter by station:', station);
        }
        
        // ÂÖ®ÈÄâ/ÂèñÊ∂àÂÖ®ÈÄâÁîµÁ´ô
        function toggleAllStations(checked) {
            document.querySelectorAll('.station-checkbox').forEach(checkbox => {
                checkbox.checked = checked;
            });
        }
        
        // Êõ¥Êñ∞ÁªüËÆ°Êï∞Èáè
        function updateCounts() {
            const totalRules = document.querySelectorAll('.rules-table tbody tr').length;
            const activeRules = document.querySelectorAll('.status-badge.active').length;
            const inactiveRules = document.querySelectorAll('.status-badge.inactive').length;
            
            document.querySelector('.stat-card:nth-child(1) .stat-number').textContent = totalRules;
            document.querySelector('.stat-card:nth-child(2) .stat-number').textContent = activeRules;
            document.querySelector('.stat-card:nth-child(3) .stat-number').textContent = inactiveRules;
        }
        
        // ToastÊèêÁ§∫
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }
        
        // Êü•ËØ¢ËßÑÂàô
        function searchRules() {
            const severityFilter = document.getElementById('severityFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const stationFilter = document.getElementById('stationFilter').value;
            
            const rows = document.querySelectorAll('.rules-table tbody tr');
            
            rows.forEach(row => {
                let show = true;
                
                // ÂÖàËé∑ÂèñÂΩìÂâçË°åÁöÑËÆæÂ§áÁ±ªÂûã
                const deviceType = row.dataset.deviceType;
                const activeTab = document.querySelector('.device-type-tab.active');
                const activeType = activeTab ? activeTab.onclick.toString().match(/filterByDeviceType\('(\w+)'/)[1] : 'all';
                
                // Â¶ÇÊûú‰∏çÁ¨¶ÂêàÂΩìÂâçÈÄâ‰∏≠ÁöÑËÆæÂ§áÁ±ªÂûãÔºåÈöêËóè
                if (activeType !== 'all' && deviceType !== activeType && deviceType !== 'all') {
                    show = false;
                }
                
                // ‰∏•ÈáçÁ®ãÂ∫¶Á≠õÈÄâ
                if (severityFilter && show) {
                    const severityBadge = row.querySelector('.severity-badge');
                    const rowSeverity = severityBadge ? severityBadge.className.split('-').pop() : '';
                    if (rowSeverity !== severityFilter) show = false;
                }
                
                // Áä∂ÊÄÅÁ≠õÈÄâ
                if (statusFilter && show) {
                    const statusBadge = row.querySelector('.status-badge');
                    const isActive = statusBadge && statusBadge.classList.contains('active');
                    if ((statusFilter === 'active' && !isActive) || (statusFilter === 'inactive' && isActive)) {
                        show = false;
                    }
                }
                
                // ÁîµÁ´ôÁ≠õÈÄâ - ËøôÈáåÁÆÄÂåñÂ§ÑÁêÜÔºåÂÆûÈôÖÂ∫îËØ•Ê†πÊçÆËßÑÂàôÁöÑÁîµÁ´ôÂÖ≥ËÅîÊù•Á≠õÈÄâ
                if (stationFilter && show) {
                    // TODO: ÂÆûÈôÖÈ°πÁõÆ‰∏≠Â∫îËØ•Ê†πÊçÆËßÑÂàôÂÖ≥ËÅîÁöÑÁîµÁ´ôÊù•Á≠õÈÄâ
                }
                
                row.style.display = show ? '' : 'none';
            });
            
            showToast('Êü•ËØ¢ÂÆåÊàê');
        }
        
        // ÈáçÁΩÆÁ≠õÈÄâÊù°‰ª∂
        function resetFilters() {
            document.getElementById('severityFilter').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('stationFilter').value = '';
            
            // ÈáçÊñ∞Â∫îÁî®ËÆæÂ§áÁ±ªÂûãÁ≠õÈÄâ
            const activeTab = document.querySelector('.device-type-tab.active');
            if (activeTab) {
                const type = activeTab.onclick.toString().match(/filterByDeviceType\('(\w+)'/)[1];
                filterByDeviceType(type);
            }
            
            showToast('Á≠õÈÄâÊù°‰ª∂Â∑≤ÈáçÁΩÆ');
        }
        
        // ÂàáÊç¢Ê®°ÊÄÅÊ°ÜÊ†áÁ≠æÈ°µ
        function switchModalTab(tabName) {
            // ÂàáÊç¢Ê†áÁ≠æÊåâÈíÆÁä∂ÊÄÅ
            document.querySelectorAll('.modal-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ÂàáÊç¢ÂÜÖÂÆπÊòæÁ§∫
            document.querySelectorAll('.modal-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName + 'Tab').classList.add('active');
        }
        
        // Êù°‰ª∂ËÆ°Êï∞Âô®
        let conditionCount = 1;
        
        // Ê∑ªÂä†Êù°‰ª∂
        function addCondition() {
            conditionCount++;
            const conditionsList = document.getElementById('conditionsList');
            const newCondition = document.createElement('div');
            newCondition.className = 'condition-item';
            newCondition.innerHTML = `
                <div class="condition-row">
                    <select class="condition-select" id="parameter${conditionCount}">
                        <option value="">ÁõëÊéßÂèÇÊï∞</option>
                        <option value="temperature">Ê∏©Â∫¶</option>
                        <option value="current">ÁîµÊµÅ</option>
                        <option value="voltage">ÁîµÂéã</option>
                        <option value="soc">SOC</option>
                        <option value="power">ÂäüÁéá</option>
                        <option value="communication">ÈÄö‰ø°Áä∂ÊÄÅ</option>
                        <option value="smoke">ÁÉüÈõæÊµìÂ∫¶</option>
                    </select>
                    <select class="condition-select" id="condition${conditionCount}">
                        <option value="">Âà§Êñ≠Êù°‰ª∂</option>
                        <option value="greater">Â§ß‰∫é</option>
                        <option value="less">Â∞è‰∫é</option>
                        <option value="equal">Á≠â‰∫é</option>
                        <option value="notEqual">‰∏çÁ≠â‰∫é</option>
                        <option value="between">Âå∫Èó¥ÂÜÖ</option>
                        <option value="notBetween">Âå∫Èó¥Â§ñ</option>
                    </select>
                    <input type="text" class="condition-input" id="threshold${conditionCount}" placeholder="ÈòàÂÄº">
                    <button type="button" class="btn-remove-condition" onclick="removeCondition(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            `;
            conditionsList.appendChild(newCondition);
            
            // ÊòæÁ§∫Á¨¨‰∏Ä‰∏™Êù°‰ª∂ÁöÑÂà†Èô§ÊåâÈíÆ
            const firstRemoveBtn = document.querySelector('.btn-remove-condition');
            if (firstRemoveBtn && conditionCount > 1) {
                firstRemoveBtn.style.display = 'flex';
            }
        }
        
        // Âà†Èô§Êù°‰ª∂
        function removeCondition(button) {
            const conditionItem = button.closest('.condition-item');
            conditionItem.remove();
            
            // Â¶ÇÊûúÂè™Ââ©‰∏Ä‰∏™Êù°‰ª∂ÔºåÈöêËóèÂà†Èô§ÊåâÈíÆ
            const conditions = document.querySelectorAll('.condition-item');
            if (conditions.length === 1) {
                const lastRemoveBtn = conditions[0].querySelector('.btn-remove-condition');
                if (lastRemoveBtn) {
                    lastRemoveBtn.style.display = 'none';
                }
            }
        }
        
        // ÂàáÊç¢ËßÑÂàôÁä∂ÊÄÅÔºàË°®Ê†º‰∏≠ÁöÑÂºÄÂÖ≥Ôºâ
        function toggleRuleStatus(switchElement, ruleId) {
            const isChecked = switchElement.checked;
            showToast(isChecked ? 'ËßÑÂàôÂ∑≤ÂêØÁî®' : 'ËßÑÂàôÂ∑≤Á¶ÅÁî®');
        }
        
    </script>

    <!-- ÂºïÂÖ•‰æßËæπÊ†èËÑöÊú¨ -->
    <script src="../sidebar.js"></script>
    <script src="../navbar.js"></script>

    <style>
        /* ÁßªÂä®Á´ØËèúÂçïÊåâÈíÆÊ†∑Âºè */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block !important;
            }
        }
    
        /* È°∂ÈÉ®ÂØºËà™Ê†è */
        .navbar {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 0 2rem;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .page-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-button {
            padding: 0.5rem 1rem;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #64748b;
            transition: all 150ms ease;
        }

        .nav-button:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
            color: #1e293b;
        }
    </style>
</body>
</html>